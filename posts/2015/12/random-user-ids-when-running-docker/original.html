<!DOCTYPE html>
<html class='v2' dir='ltr' lang='en'>
<head>
<link href='https://www.blogger.com/static/v1/widgets/2508126174-css_bundle_v2.css' rel='stylesheet' type='text/css'/>
<meta content='width=1100' name='viewport'/>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
<meta content='blogger' name='generator'/>
<link href='http://blog.dscpl.com.au/favicon.ico' rel='icon' type='image/x-icon'/>
<link href='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html' rel='canonical'/>
<link rel="alternate" type="application/atom+xml" title="Graham Dumpleton - Atom" href="http://blog.dscpl.com.au/feeds/posts/default" />
<link rel="alternate" type="application/rss+xml" title="Graham Dumpleton - RSS" href="http://blog.dscpl.com.au/feeds/posts/default?alt=rss" />
<link rel="service.post" type="application/atom+xml" title="Graham Dumpleton - Atom" href="https://www.blogger.com/feeds/2363643920942057324/posts/default" />

<link rel="alternate" type="application/atom+xml" title="Graham Dumpleton - Atom" href="http://blog.dscpl.com.au/feeds/6212721734777656933/comments/default" />
<!--Can't find substitution for tag [blog.ieCssRetrofitLinks]-->
<meta content='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html' property='og:url'/>
<meta content='Random user IDs when running Docker containers.' property='og:title'/>
<meta content='At this point in our exploration ofÂ  getting IPython to work on OpenShift  we have deduced that we cannot, and should not, have our Docker c...' property='og:description'/>
<title>Graham Dumpleton: Random user IDs when running Docker containers.</title>
<style id='page-skin-1' type='text/css'><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Blogger
URL:      www.blogger.com
----------------------------------------------- */
/* Content
----------------------------------------------- */
body {
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #222222;
background: #66bbdd none repeat scroll top left;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #2187bb;
}
a:visited {
text-decoration:none;
color: #888888;
}
a:hover {
text-decoration:underline;
color: #32aaff;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent none repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent none repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: transparent none repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #3299bb;
text-shadow: -1px -1px 1px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #3299bb;
}
.Header .description {
font-size: 140%;
color: #777777;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 1px solid #eeeeee;
}
.tabs-inner .section:first-child ul {
margin-top: -1px;
border-top: 1px solid #eeeeee;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.tabs-inner .widget ul {
background: #f5f5f5 url(https://resources.blogblog.com/blogblog/data/1kt/simple/gradients_light.png) repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #eeeeee;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #999999;
border-left: 1px solid #ffffff;
border-right: 1px solid #eeeeee;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #eeeeee;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #eeeeee;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #eeeeee;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #222222;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #222222;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #f9f9f9;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #eeeeee;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #f9f9f9;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #eeeeee;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #222222;
}
.mobile-link-button {
background-color: #2187bb;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid #eeeeee;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #eeeeee;
}

--></style>
<style id='template-skin-1' type='text/css'><!--
body {
min-width: 1020px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 1020px;
max-width: 1020px;
_width: 1020px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 200px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 200px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("200px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 200px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 200px;
margin-right: -200px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=2363643920942057324&amp;zx=8e425bf4-e933-49a5-a874-6a5d9cccad39' media='none' onload='if(media!=&#39;all&#39;)media=&#39;all&#39;' rel='stylesheet'/><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=2363643920942057324&amp;zx=8e425bf4-e933-49a5-a874-6a5d9cccad39' rel='stylesheet'/></noscript>
<meta name='google-adsense-platform-account' content='ca-host-pub-1556223355139109'/>
<meta name='google-adsense-platform-domain' content='blogspot.com'/>

<!-- data-ad-client=ca-pub-6433235630058377 -->

</head>
<body class='loading variant-pale'>
<div class='navbar section' id='navbar' name='Navbar'><div class='widget Navbar' data-version='1' id='Navbar1'><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"></div>
<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar/2363643920942057324?po\x3d6212721734777656933\x26origin\x3dhttp://blog.dscpl.com.au',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class='body-fauxcolumns'>
<div class='fauxcolumn-outer body-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content'>
<div class='content-fauxcolumns'>
<div class='fauxcolumn-outer content-fauxcolumn-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<div class='content-outer'>
<div class='content-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left content-fauxborder-left'>
<div class='fauxborder-right content-fauxborder-right'></div>
<div class='content-inner'>
<header>
<div class='header-outer'>
<div class='header-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left header-fauxborder-left'>
<div class='fauxborder-right header-fauxborder-right'></div>
<div class='region-inner header-inner'>
<div class='header section' id='header' name='Header'><div class='widget Header' data-version='1' id='Header1'>
<div id='header-inner'>
<div class='titlewrapper'>
<h1 class='title'>
<a href='http://blog.dscpl.com.au/'>
Graham Dumpleton
</a>
</h1>
</div>
<div class='descriptionwrapper'>
<p class='description'><span>
</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class='header-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</header>
<div class='tabs-outer'>
<div class='tabs-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left tabs-fauxborder-left'>
<div class='fauxborder-right tabs-fauxborder-right'></div>
<div class='region-inner tabs-inner'>
<div class='tabs no-items section' id='crosscol' name='Cross-Column'></div>
<div class='tabs no-items section' id='crosscol-overflow' name='Cross-Column 2'></div>
</div>
</div>
<div class='tabs-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='main-outer'>
<div class='main-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left main-fauxborder-left'>
<div class='fauxborder-right main-fauxborder-right'></div>
<div class='region-inner main-inner'>
<div class='columns fauxcolumns'>
<div class='fauxcolumn-outer fauxcolumn-center-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-left-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<div class='fauxcolumn-outer fauxcolumn-right-outer'>
<div class='cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left'>
<div class='fauxborder-right'></div>
<div class='fauxcolumn-inner'>
</div>
</div>
<div class='cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class='columns-inner'>
<div class='column-center-outer'>
<div class='column-center-inner'>
<div class='main section' id='main' name='Main'><div class='widget Blog' data-version='1' id='Blog1'>
<div class='blog-posts hfeed'>

          <div class="date-outer">
        
<h2 class='date-header'><span>Wednesday, December 23, 2015</span></h2>

          <div class="date-posts">
        
<div class='post-outer'>
<div class='post hentry uncustomized-post-template' itemprop='blogPost' itemscope='itemscope' itemtype='http://schema.org/BlogPosting'>
<meta content='2363643920942057324' itemprop='blogId'/>
<meta content='6212721734777656933' itemprop='postId'/>
<a name='6212721734777656933'></a>
<h3 class='post-title entry-title' itemprop='name'>
Random user IDs when running Docker containers.
</h3>
<div class='post-header'>
<div class='post-header-line-1'></div>
</div>
<div class='post-body entry-content' id='post-body-6212721734777656933' itemprop='description articleBody'>
<p>At this point in our exploration of&#160;<a href="http://blog.dscpl.com.au/2015/12/running-ipython-as-docker-container.html">getting IPython to work on OpenShift</a> we have deduced that we cannot, and should not, have our Docker container be dependent on <a href="http://blog.dscpl.com.au/2015/12/don-run-as-root-inside-of-docker.html">running as the 'root' user</a>. Simply setting up the Docker container to <a href="http://blog.dscpl.com.au/2015/12/overriding-user-docker-containers-run-as.html">run as a specific non &#8216;root&#8217; user</a> wasn&#8217;t enough however. This is because in pursuit of a more secure environment, OpenShift actually uses a different user ID for each project when running Docker containers.</p>
<p>As I keep noting, user namespaces when available in Docker, should be able to transparently hide any underlying mapping to a special user ID as required by an underlying platform, allowing the Docker container to use what ever user ID it wants. We aren&#8217;t there yet, and given that user namespaces were first talked about as coming soon <a href="https://news.ycombinator.com/item?id=7909622">well over a year ago</a>, we could well be waiting some time yet for all the necessary pieces to fall into place to enable that.</p>
<p>In the mean time, the best thing you can do to ensure Docker images are portable to different hosting environments, and be as secure as possible, is design your Docker containers to run as a non &#8216;root&#8217; user, but at the same time be tolerant of running as an arbitrary user ID specified at the time the Docker container is started.</p>
<h1>File system access permissions</h1>
<p>In our prior post, where we got to was that when running our IPython Docker container as a random user ID, it would fail even when running some basics checks.</p>
<blockquote>
<pre>$ docker run --rm -it -u 100000 -p 8888:8888 jupyter-notebook bash<br />I have no name!@78bdfa8dba92:/notebooks$ whoami<br />whoami: cannot find name for user ID 100000<br />I have no name!@78bdfa8dba92:/notebooks$ id<br />uid=100000 gid=0(root)<br />I have no name!@78bdfa8dba92:/notebooks$ pwd<br />/notebooks<br />I have no name!@78bdfa8dba92:/notebooks$ env | grep HOME<br />HOME=/<br />I have no name!@78bdfa8dba92:/notebooks$ touch $HOME/magic<br />touch: cannot touch &#8216;//magic&#8217;: Permission denied<br />I have no name!@78bdfa8dba92:/notebooks$ touch /notebooks/magic<br />touch: cannot touch &#8216;/notebooks/magic&#8217;: Permission denied</pre>
</blockquote>
<p>The problems basically boiled down to file system access permissions, this being caused by the fact that we were running as a different user ID to what we expected.</p>
<p>The first specific problem was that the &#8216;HOME&#8217; directory environment variable wasn&#8217;t set to what was expected for the user we anticipated everything to run as. This meant that instead of the home directory &#8216;/home/ipython&#8217; being used, it was trying to use &#8216;/&#8216; as the home directory.</p>
<p>As a first step, lets simply try overriding the &#8216;HOME&#8217; directory and forcing it to be what we desired it to be by adding to the &#8216;Dockerfile':</p>
<blockquote>
<pre>ENV HOME=/home/ipython</pre>
</blockquote>
<p>Starting the Docker container with an interactive shell we now get:</p>
<blockquote>
<pre>$ docker run --rm -it -u 100000 -p 8888:8888 jupyter-notebook bash<br />I have no name!@e40f5e18f666:/notebooks$ whoami<br />whoami: cannot find name for user ID 100000<br />I have no name!@e40f5e18f666:/notebooks$ id<br />uid=100000 gid=0(root)<br />I have no name!@e40f5e18f666:/notebooks$ pwd<br />/notebooks<br />I have no name!@e40f5e18f666:/notebooks$ env | grep HOME<br />HOME=/home/ipython<br />I have no name!@e40f5e18f666:/notebooks$ touch $HOME/magic<br />touch: cannot touch &#8216;/home/ipython/magic&#8217;: Permission denied</pre>
</blockquote>
<p>The &#8216;HOME&#8217; directory environment variable is now correct, but we still cannot create files due to the fact that the home directory is owned by the &#8216;ipython&#8217; user and we are running with a different user ID.</p>
<blockquote>
<pre>$ ls -las $HOME<br />total 24<br />4 drwxr-xr-x 3 ipython ipython 4096 Dec 22 21:53 .<br />4 drwxr-xr-x 4 root root 4096 Dec 22 21:53 ..<br />4 -rw-r--r-- 1 ipython ipython 220 Dec 22 21:53 .bash_logout<br />4 -rw-r--r-- 1 ipython ipython 3637 Dec 22 21:53 .bashrc<br />4 drwx------ 2 ipython ipython 4096 Dec 22 21:53 .jupyter<br />4 -rw-r--r-- 1 ipython ipython 675 Dec 22 21:53 .profile</pre>
</blockquote>
<h1>Using group access permissions</h1>
<p>The solution to file system access permission problems one often sees in Docker containers which try to run as a non &#8216;root&#8217; user is to simply make files and directories world writable. That is, after setting up everything in the &#8216;Dockerfile&#8217; as the &#8216;root&#8217; user and before switching the user using a &#8216;USER&#8217; statement, the &#8216;chmod&#8217; command is run recursively on any directories and files which the running application might need to update.&#160;</p>
<p>I personally don&#8217;t like this approach of making everything world writable at all. To me it falls into that category of bad practices you wouldn&#8217;t use if you were installing an application direct to a host when you aren&#8217;t using Docker, so why start now. But what are the alternatives?</p>
<p>The more secure alternative that would normally be used to allow multiple users to update the same directories or files are UNIX groups. The big question is whether they are going to be useful in this case or not.</p>
<p>As it is, when the home directory for the &#8216;ipython&#8217; user was created, the directories and files were created with the group &#8216;ipython&#8217;, being a personal group created for the &#8216;ipython&#8217; user when the &#8216;adduser&#8217; command was used to create the user account.</p>
<p>The problem with the use of a personal group as the primary group for the user and thus the directories and files created, is that it is impossible to know what the random user ID will be and so add it into the personal group in advance. Having the group of the directories and files be a personal group is therefore not going to work.</p>
<p>The question now is if the group would normally be set to whatever the primary group is for a named user, what group is actually going to be used when the user ID is being overridden for the container at run time.</p>
<p>Lets first look at the case of where we override the user ID but still use one which does have a user defined for it.</p>
<blockquote>
<pre>$ docker run --rm -it -u 5 -p 8888:8888 jupyter-notebook bash<br />games@d0e1f5776ccb:/notebooks$ id<br />uid=5(games) gid=60(games) groups=60(games)</pre>
</blockquote>
<p>Here we specify the user ID &#8216;5&#8217;, which corresponds to the &#8216;games&#8217; user. That user happens to have a corresponding primary group which maps to its own personal group of &#8216;games&#8217;. In overriding the user ID, the primary group for the user is still picked and used as the effective group. Thus the &#8216;id&#8217; command shows the &#8216;gid&#8217; being &#8217;60&#8217;, corresponding to the &#8216;games&#8217; group.</p>
<p>Do note that this is only the case where only the user ID was overridden. It so happens that the &#8216;-u&#8217; option to &#8216;docker run&#8217; can also be used to override the effective group used as well.</p>
<blockquote>
<pre>$ docker run --rm -it -u 5:1 -p 8888:8888 jupyter-notebook bash<br />games@58d9074c872c:/notebooks$ id<br />uid=5(games) gid=1(daemon) groups=60(games)</pre>
</blockquote>
<p>Here we have overridden the effective group to be group ID of &#8216;1&#8217;, corresponding to the &#8216;daemon&#8217; group.</p>
<p>Back to our random user ID, when we select a user ID which doesn&#8217;t have a corresponding user account we see:</p>
<blockquote>
<pre>docker run --rm -it -u 10000&#160;-p 8888:8888 jupyter-notebook bash<br />I have no name!@f4050457c1ee:/notebooks$ id<br />uid=10000 gid=0(root)</pre>
</blockquote>
<p>That is, the effective group is set as the &#8216;gid&#8217; of &#8216;0&#8217;, corresponding to the group for &#8216;root&#8217;.</p>
<p>The end result is that provided that we do not override the effective group as well using the &#8216;-u&#8217; option, if the user ID specified corresponds to a user account, then the primary group for that user would be used. If instead a random user ID were used for which there did not exist a corresponding user account, then the effective group would be that for the &#8216;gid&#8217; of &#8216;0&#8217;, which is reserved for the &#8216;root&#8217; user group.</p>
<p>Note that in a hosting service which is effectively using a randomly assigned user ID, it is assumed that it will never select one which overlaps with an existing user ID. This can&#8217;t be completely guaranteed, although so long as a hosting service uses user IDs starting at a very large number, it is a good bet it will not clash with an existing user. For OpenShift at least, it appears to allocate user IDs starting somewhere above &#8216;1000000000&#8217;.</p>
<p>As to overriding the group as well as the user ID, it is also assumed that a hosting service would not do that. Again, OpenShift at least doesn&#8217;t override the group and this is probably the most sensible thing that could be done here as overriding of the group to be some random ID as well, would make the use of UNIX groups inside of the container impossible as nothing would be predictable. In this case I would suggest any hosting service going down this path of allocating user IDs, follow OpenShift&#8217;s lead and not override the group ID as doing so would likely just cause a world of hurt.</p>
<h1>Using a user with effective GID of 0</h1>
<p>What now is going to be the most&#160;workable solution if we wish to rely on group access permissions?</p>
<p>In light of the above observed behaviour what seems might work is to have the special user we created, and which would be the default user specified by the &#8216;USER&#8217; statement of the &#8216;Dockerfile', have a primary group with &#8216;gid&#8217; of &#8216;0&#8217;. That is, we match what would be the primary group used if a random user ID had been used which does not correspond to a user account.</p>
<p>By making such a choice for the effective group, it means that the group will be the same for both cases and we can now set up file system permissions correspondingly.</p>
<p>Updating our &#8216;Dockerfile&#8217; based on this, we end up with:</p>
<blockquote>
<pre>RUN adduser --disabled-password --gid 0 --gecos "IPython" ipython<br /><br />RUN mkdir -m 0775 /notebooks &amp;&amp; chown ipython:root /notebooks<br /><br />VOLUME /notebooks<br />WORKDIR /notebooks<br /><br />USER ipython<br /><br /># Add a notebook profile.RUN mkdir -p -m 0775 ~ipython/.jupyter/ &amp;&amp; \<br /> echo "c.NotebookApp.ip = '*'" &gt;&gt; ~ipython/.jupyter/jupyter_notebook_config.py<br /><br />RUN chmod -R u+w,g+w /home/ipython<br /><br />ENV HOME=/home/ipython</pre>
</blockquote>
<p>The key changes are:</p>
<ul>
<li>Add the &#8216;--gid 0&#8217;option to &#8216;adduser&#8217; so that the primary group for user is &#8216;root&#8217;.</li>
<li>Create the &#8216;/notebooks&#8217; directory with mode &#8216;0775&#8217; so writable by group.</li>
<li>Move creation of &#8216;jupyter_notebook_config.py&#8217; down to where we are the non &#8216;root&#8217; user.</li>
<li>Change permissions on all files and directories in home directory so writable by group.</li>
</ul>
<p>Lets now check what happens for each of the use cases we expect.</p>
<p>For the case where the Docker container runs as the default user as specified by the &#8216;USER&#8217; statement we now get:</p>
<blockquote>
<pre>$ docker run --rm -it -p 8888:8888 jupyter-notebook bash<br />ipython@68d5a31bcc03:/notebooks$ whoami<br />ipython<br />ipython@68d5a31bcc03:/notebooks$ id<br />uid=1000(ipython) gid=0(root) groups=0(root)<br />ipython@68d5a31bcc03:/notebooks$ pwd<br />/notebooks<br />ipython@68d5a31bcc03:/notebooks$ env | grep HOME<br />HOME=/home/ipython<br />ipython@68d5a31bcc03:/notebooks$ touch $HOME/magic<br />ipython@68d5a31bcc03:/notebooks$ touch /notebooks<br />ipython@68d5a31bcc03:/notebooks$ ls -las $HOME<br />total 24<br />4 drwxrwxr-x 4 ipython root 4096 Dec 23 02:26 .<br />4 drwxr-xr-x 6 root root 4096 Dec 23 02:26 ..<br />4 -rw-rw-r-- 1 ipython root 220 Dec 23 02:15 .bash_logout<br />4 -rw-rw-r-- 1 ipython root 3637 Dec 23 02:15 .bashrc<br />4 drwxrwxr-x 2 ipython root 4096 Dec 23 02:15 .jupyter<br />0 -rw-r--r-- 1 ipython root 0 Dec 23 02:26 magic<br />4 -rw-rw-r-- 1 ipython root 675 Dec 23 02:15 .profile</pre>
</blockquote>
<p>Everything in our checks still works okay and running up the actual Jupyter Notebook application also works fine, with us being able to create and save new notebooks.</p>
<p>This is what we would expect as the directories and files are owned by the &#8216;ipython&#8217; user and we are also running as that user.</p>
<p>Of note is that you will now see that the effective group of the user is a &#8216;gid&#8217; of &#8216;0&#8217;. All the directories and files also have that group.</p>
<p>If we use the &#8216;-u ipython&#8217; or &#8216;-u 1000&#8217; option, where &#8216;1000&#8217; was the user ID allocated by the &#8216;adduser&#8217; command in the &#8216;Dockerfile&#8217;, that all works fine as well.</p>
<p>For the case of overriding the user with a random user ID, we get:</p>
<blockquote>
<pre>$ docker run --rm -it -u 10000 -p 8888:8888 jupyter-notebook bash<br />I have no name!@dbe290496d44:/notebooks$ whoami<br />whoami: cannot find name for user ID 10000<br />I have no name!@dbe290496d44:/notebooks$ id<br />uid=10000 gid=0(root)<br />I have no name!@dbe290496d44:/notebooks$ pwd<br />/notebooks<br />I have no name!@dbe290496d44:/notebooks$ env | grep HOME<br />HOME=/home/ipython<br />I have no name!@dbe290496d44:/notebooks$ touch $HOME/magic<br />I have no name!@dbe290496d44:/notebooks$ touch /notebooks/magic<br />I have no name!@dbe290496d44:/notebooks$ ls -las $HOME<br />total 24<br />4 drwxrwxr-x 4 ipython root 4096 Dec 23 02:32 .<br />4 drwxr-xr-x 6 root root 4096 Dec 23 02:32 ..<br />4 -rw-rw-r-- 1 ipython root 220 Dec 23 02:31 .bash_logout<br />4 -rw-rw-r-- 1 ipython root 3637 Dec 23 02:31 .bashrc<br />4 drwxrwxr-x 2 ipython root 4096 Dec 23 02:31 .jupyter<br />0 -rw-r--r-- 1 10000 root 0 Dec 23 02:32 magic<br />4 -rw-rw-r-- 1 ipython root 675 Dec 23 02:31 .profile</pre>
</blockquote>
<p>Unlike before when overriding with a random user ID with no corresponding user account, the attempts to create files in the file system now works okay.</p>
<p>What you will note though is that the file created is in this case owned by user with user ID of &#8216;10000&#8217;. This worked because the effective group of the random user ID was &#8216;root&#8217;, matching what the directory used, along with the fact that the group permissions of the directory allowed updates by anyone in the same group. Thus it didn&#8217;t matter that the user ID was different to the owner of the group.</p>
<p>One thing you may note is that when the file &#8216;magic&#8217; was created, the resulting file wasn&#8217;t itself writable to the group. This was the case as the default &#8216;umask&#8217; setup by Docker when a container is run is &#8216;0022&#8217;. This particular &#8216;umask&#8217; disables the setting of the &#8216;w&#8217; flag on the group.</p>
<p>Even though this is the case, this is not a problem because from this point on any code that would run, such as the actual Jupyter Notebook application, would only ever run as the same allocated user ID. There is therefore no expectation of any processes running as the original &#8216;ipython&#8217; user needing to be able to update the file.</p>
<p>In other words, that directories and files are fixed up to be writable to group only matters for the original directories and files created as part of the Docker build as the &#8216;ipython&#8217; user. What happens after that and what the &#8216;umask&#8217; may be is not important.</p>
<p>One final check to go, will this updated version of the &#8216;jupyter/notebook&#8217; Docker image work on OpenShift, and the answer is that it does indeed now start up okay and does not error out due to the problems with access permissions we had before.</p>
<p>If we access the running container on OpenShift we can perform the same checks as above okay.</p>
<blockquote>
<pre>$ oc rsh ipython-3-c7oit<br />I have no name!@ipython-3-c7oit:/notebooks$ whoami<br />whoami: cannot find name for user ID 1000210000<br />I have no name!@ipython-3-c7oit:/notebooks$ id<br />uid=1000210000 gid=0(root)<br />I have no name!@ipython-3-c7oit:/notebooks$ pwd<br />/notebooks<br />I have no name!@ipython-3-c7oit:/notebooks$ env | grep HOME<br />HOME=/home/ipython<br />I have no name!@ipython-3-c7oit:/notebooks$ touch $HOME/magic<br />I have no name!@ipython-3-c7oit:/notebooks$ touch /notebooks/magic<br />I have no name!@ipython-3-c7oit:/notebooks$ ls -las $HOME<br />total 20<br />4 drwxrwxr-x. 5 ipython root 4096 Dec 23 03:20 .<br />0 drwxr-xr-x. 3 root root 20 Dec 23 03:13 ..<br />4 -rw-------. 1 1000210000 root 31 Dec 23 03:20 .bash_history<br />4 -rw-rw-r--. 1 ipython root 220 Dec 23 03:13 .bash_logout<br />4 -rw-rw-r--. 1 ipython root 3637 Dec 23 03:13 .bashrc<br />0 drwxr-xr-x. 5 1000210000 root 64 Dec 23 03:19 .ipython<br />0 drwxrwxr-x. 2 ipython root 39 Dec 23 03:14 .jupyter<br />0 drwx------. 3 1000210000 root 18 Dec 23 03:18 .local<br />0 -rw-r--r--. 1 1000210000 root 0 Dec 23 03:20 magic<br />4 -rw-rw-r--. 1 ipython root 675 Dec 23 03:13 .profile</pre>
</blockquote>
<h1>Named user vs numeric user ID</h1>
<p>Before we go on to further verify whether the updated Docker image does in fact work properly on OpenShift, I want to revisit the use of the &#8216;USER&#8217; statement in the &#8216;Dockerfile&#8217;.</p>
<p>Right now the &#8216;USER&#8217; statement is specifying a default user. This user would be used if you were running the Docker image directly with Docker yourself. As we have seen, if used with OpenShift, the user given by the &#8216;USER&#8217; statement is actually ignored.</p>
<p>The reasons that a hosting service such as OpenShift ignores the user specified by the &#8216;USER&#8217; statement is that it cannot trust that the user is a non &#8216;root&#8217; user when the user is specified by way of a name. But also because where a host service provides an ability to mount shared persistent volumes into containers it may want to ensure running containers owned by a specific service account, or a project within a service account, have different user IDs as part of ensuring that there is no way an application could see any data stored on a shared volume created by a different user, if a volume was mounted against the wrong container.</p>
<p>Now one of the possibilities I did describe in a prior post was that if a hosting service only supported 12 factor applications and didn&#8217;t support persistent data volumes, although it should really still prohibit running a container as &#8216;root&#8217;, it may allow a container to run as the user specified by the &#8216;USER&#8217; statement so long as it knows it isn&#8217;t &#8216;root&#8217;. This though it can only know if a numeric user ID was defined with the &#8216;USER&#8217; statement.</p>
<p>To cater for the possibility, rather than use a user name with the &#8216;USER&#8217; statement, lets use its numeric user ID instead.</p>
<p>Now from the above tests we saw that the numeric user ID for the user &#8216;ipython&#8217; created by &#8216;adduser&#8217; was &#8216;1000&#8217;. We could therefore use it with the &#8216;USER&#8217; statement, however, since what &#8216;adduser&#8217; will use for the user ID is not technically deterministic, as it can be dependent on what other user accounts may already have been created, but also can depend on what operating system is used, we are better off being explicit and telling &#8216;adduser&#8217; what user ID to use.</p>
<p>What exactly the <a href="https://en.wikipedia.org/wiki/User_identifier">lowest recommended user ID</a> is for normal user accounts looks to be 500 on Posix and Red Hat systems, and 1000 on OpenSuSE and Debian. Lets therefore go with a number 1000 or above, but just in case an operating system image may include at least a default user account, lets skip 1000 and use 1001 instead.</p>
<p>Making this change we now end up with the &#8216;Dockerfile&#8217; being:</p>
<blockquote>
<pre>RUN adduser --disabled-password --uid 1001 --gid 0 --gecos "IPython" ipython</pre>
<pre>RUN mkdir -m 0775 /notebooks &amp;&amp; chown ipython:root /notebooks</pre>
<pre>VOLUME /notebooks<br />WORKDIR /notebooks</pre>
<pre>USER 1001</pre>
<pre># Add a notebook profile.<br />RUN mkdir -p -m 0775 ~ipython/.jupyter/ &amp;&amp; \<br /> echo "c.NotebookApp.ip = '*'" &gt;&gt; ~ipython/.jupyter/jupyter_notebook_config.py</pre>
<pre>RUN chmod -R u+w,g+w /home/ipython</pre>
<pre>ENV HOME=/home/ipython</pre>
</blockquote>
<p>All up this should give us a the most portable solution. Working where the Docker container is hosted directly on Docker, but also working on a hosting service such as OpenShift, which uses Docker under the covers, but which overrides the user ID containers run as. Using a numeric user ID for &#8216;USER&#8217; also allows a hosting service to still used our preferred user if it does not want to allow containers to run as &#8216;root&#8217;, as will know it can trust that it will run as the user ID indicated.</p>
<h1>Cannot find name for user ID</h1>
<p>It would be great to say at this point that we are done and everything works fine. That is however not the case as I will go into in the next post.</p>
<p>The remaining problem relates to what happens when we run the &#8216;whoami&#8217; command:</p>
<blockquote>
<pre>$ docker run --rm -it -u 10000 -p 8888:8888 jupyter-notebook bash<br />I have no name!@dbe290496d44:/notebooks$ whoami<br />whoami: cannot find name for user ID 10000</pre>
</blockquote>
<p>As we can see, &#8216;whoami&#8217; isn&#8217;t able to return a valid value due to the user ID everything runs as not actually matching a user account.</p>
<p>In initially running up the updated Docker image this didn&#8217;t appear to prevent the IPython Notebook application running, but as we delve deeper we will see that it can actually cause problems.</p>
<div style='clear: both;'></div>
</div>
<div class='post-footer'>
<div class='post-footer-line post-footer-line-1'>
<span class='post-author vcard'>
Posted by
<span class='fn' itemprop='author' itemscope='itemscope' itemtype='http://schema.org/Person'>
<meta content='https://www.blogger.com/profile/13609779138164842374' itemprop='url'/>
<a class='g-profile' href='https://www.blogger.com/profile/13609779138164842374' rel='author' title='author profile'>
<span itemprop='name'>Graham Dumpleton</span>
</a>
</span>
</span>
<span class='post-timestamp'>
at
<meta content='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html' itemprop='url'/>
<a class='timestamp-link' href='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html' rel='bookmark' title='permanent link'><abbr class='published' itemprop='datePublished' title='2015-12-23T16:39:00+11:00'>4:39&#8239;PM</abbr></a>
</span>
<span class='post-comment-link'>
</span>
<span class='post-icons'>
<span class='item-action'>
<a href='https://www.blogger.com/email-post/2363643920942057324/6212721734777656933' title='Email Post'>
<img alt='' class='icon-action' height='13' src='https://resources.blogblog.com/img/icon18_email.gif' width='18'/>
</a>
</span>
</span>
<div class='post-share-buttons goog-inline-block'>
<a class='goog-inline-block share-button sb-email' href='https://www.blogger.com/share-post.g?blogID=2363643920942057324&postID=6212721734777656933&target=email' target='_blank' title='Email This'><span class='share-button-link-text'>Email This</span></a><a class='goog-inline-block share-button sb-blog' href='https://www.blogger.com/share-post.g?blogID=2363643920942057324&postID=6212721734777656933&target=blog' onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target='_blank' title='BlogThis!'><span class='share-button-link-text'>BlogThis!</span></a><a class='goog-inline-block share-button sb-twitter' href='https://www.blogger.com/share-post.g?blogID=2363643920942057324&postID=6212721734777656933&target=twitter' target='_blank' title='Share to X'><span class='share-button-link-text'>Share to X</span></a><a class='goog-inline-block share-button sb-facebook' href='https://www.blogger.com/share-post.g?blogID=2363643920942057324&postID=6212721734777656933&target=facebook' onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target='_blank' title='Share to Facebook'><span class='share-button-link-text'>Share to Facebook</span></a><a class='goog-inline-block share-button sb-pinterest' href='https://www.blogger.com/share-post.g?blogID=2363643920942057324&postID=6212721734777656933&target=pinterest' target='_blank' title='Share to Pinterest'><span class='share-button-link-text'>Share to Pinterest</span></a>
</div>
</div>
<div class='post-footer-line post-footer-line-2'>
<span class='post-labels'>
Labels:
<a href='http://blog.dscpl.com.au/search/label/docker' rel='tag'>docker</a>,
<a href='http://blog.dscpl.com.au/search/label/ipython' rel='tag'>ipython</a>,
<a href='http://blog.dscpl.com.au/search/label/openshift' rel='tag'>openshift</a>,
<a href='http://blog.dscpl.com.au/search/label/python' rel='tag'>python</a>
</span>
</div>
<div class='post-footer-line post-footer-line-3'>
<span class='post-location'>
</span>
</div>
</div>
</div>
<div class='comments' id='comments'>
<a name='comments'></a>
<h4>2 comments:</h4>
<div id='Blog1_comments-block-wrapper'>
<dl class='avatar-comment-indent' id='comments-block'>
<dt class='comment-author ' id='c65086943047720731'>
<a name='c65086943047720731'></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/00531518241268849991" target="" rel="nofollow" onclick="" class="avatar-hovercard" id="av-65086943047720731-00531518241268849991"><img src="//www.blogger.com/img/blogger_logo_round_35.png" width="35" height="35" alt="" title="Unknown">

</a></span></div>
<a href='https://www.blogger.com/profile/00531518241268849991' rel='nofollow'>Unknown</a>
said...
</dt>
<dd class='comment-body' id='Blog1_cmt-65086943047720731'>
<p>
Thanks for your article. <br />Do you have any idea on how to solve this problem ?<br /><br />whoami: cannot find name for user ID 10000
</p>
</dd>
<dd class='comment-footer'>
<span class='comment-timestamp'>
<a href='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html?showComment=1468338136399#c65086943047720731' title='comment permalink'>
July 13, 2016 at 1:42&#8239;AM
</a>
<span class='item-control blog-admin pid-246634498'>
<a class='comment-delete' href='https://www.blogger.com/comment/delete/2363643920942057324/65086943047720731' title='Delete Comment'>
<img src='https://resources.blogblog.com/img/icon_delete13.gif'/>
</a>
</span>
</span>
</dd>
<dt class='comment-author blog-author' id='c4160738465439219164'>
<a name='c4160738465439219164'></a>
<div class="avatar-image-container avatar-stock"><span dir="ltr"><a href="https://www.blogger.com/profile/13609779138164842374" target="" rel="nofollow" onclick="" class="avatar-hovercard" id="av-4160738465439219164-13609779138164842374"><img src="//www.blogger.com/img/blogger_logo_round_35.png" width="35" height="35" alt="" title="Graham Dumpleton">

</a></span></div>
<a href='https://www.blogger.com/profile/13609779138164842374' rel='nofollow'>Graham Dumpleton</a>
said...
</dt>
<dd class='comment-body' id='Blog1_cmt-4160738465439219164'>
<p>
How to solve the issue explained in this post is in the next post in this series:<br /><br />http://blog.dscpl.com.au/2015/12/unknown-user-when-running-docker.html
</p>
</dd>
<dd class='comment-footer'>
<span class='comment-timestamp'>
<a href='http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html?showComment=1468367763968#c4160738465439219164' title='comment permalink'>
July 13, 2016 at 9:56&#8239;AM
</a>
<span class='item-control blog-admin pid-1526776468'>
<a class='comment-delete' href='https://www.blogger.com/comment/delete/2363643920942057324/4160738465439219164' title='Delete Comment'>
<img src='https://resources.blogblog.com/img/icon_delete13.gif'/>
</a>
</span>
</span>
</dd>
</dl>
</div>
<p class='comment-footer'>
<a href='https://www.blogger.com/comment/fullpage/post/2363643920942057324/6212721734777656933' onclick=''>Post a Comment</a>
</p>
</div>
</div>

        </div></div>
      
</div>
<div class='blog-pager' id='blog-pager'>
<span id='blog-pager-newer-link'>
<a class='blog-pager-newer-link' href='http://blog.dscpl.com.au/2015/12/unknown-user-when-running-docker.html' id='Blog1_blog-pager-newer-link' title='Newer Post'>Newer Post</a>
</span>
<span id='blog-pager-older-link'>
<a class='blog-pager-older-link' href='http://blog.dscpl.com.au/2015/12/overriding-user-docker-containers-run-as.html' id='Blog1_blog-pager-older-link' title='Older Post'>Older Post</a>
</span>
<a class='home-link' href='http://blog.dscpl.com.au/'>Home</a>
</div>
<div class='clear'></div>
<div class='post-feeds'>
<div class='feed-links'>
Subscribe to:
<a class='feed-link' href='http://blog.dscpl.com.au/feeds/6212721734777656933/comments/default' target='_blank' type='application/atom+xml'>Post Comments (Atom)</a>
</div>
</div>
</div></div>
</div>
</div>
<div class='column-left-outer'>
<div class='column-left-inner'>
<aside>
</aside>
</div>
</div>
<div class='column-right-outer'>
<div class='column-right-inner'>
<aside>
<div class='sidebar section' id='sidebar-right-1'><div class='widget Profile' data-version='1' id='Profile1'>
<h2>About Me</h2>
<div class='widget-content'>
<dl class='profile-datablock'>
<dt class='profile-data'>
<a class='profile-name-link g-profile' href='https://www.blogger.com/profile/13609779138164842374' rel='author' style='background-image: url(//www.blogger.com/img/logo-16.png);'>
Graham Dumpleton
</a>
</dt>
</dl>
<a class='profile-link' href='https://www.blogger.com/profile/13609779138164842374' rel='author'>View my complete profile</a>
<div class='clear'></div>
</div>
</div><div class='widget PageList' data-version='1' id='PageList1'>
<h2>Quick Links</h2>
<div class='widget-content'>
<ul>
<li>
<a href='http://blog.dscpl.com.au/p/decorators-and-monkey-patching.html'>Decorators and monkey patching.</a>
</li>
<li>
<a href='http://blog.dscpl.com.au/p/using-python-with-docker.html'>Using Python with Docker.</a>
</li>
</ul>
<div class='clear'></div>
</div>
</div><div class='widget BlogArchive' data-version='1' id='BlogArchive1'>
<h2>Blog Archive</h2>
<div class='widget-content'>
<div id='ArchiveList'>
<div id='BlogArchive1_ArchiveList'>
<select id='BlogArchive1_ArchiveMenu'>
<option value=''>Blog Archive</option>
<option value='http://blog.dscpl.com.au/2019/01/'>January (3)</option>
<option value='http://blog.dscpl.com.au/2018/12/'>December (4)</option>
<option value='http://blog.dscpl.com.au/2018/10/'>October (1)</option>
<option value='http://blog.dscpl.com.au/2018/04/'>April (1)</option>
<option value='http://blog.dscpl.com.au/2018/01/'>January (1)</option>
<option value='http://blog.dscpl.com.au/2017/04/'>April (1)</option>
<option value='http://blog.dscpl.com.au/2016/12/'>December (2)</option>
<option value='http://blog.dscpl.com.au/2016/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2016/07/'>July (1)</option>
<option value='http://blog.dscpl.com.au/2016/04/'>April (2)</option>
<option value='http://blog.dscpl.com.au/2016/03/'>March (1)</option>
<option value='http://blog.dscpl.com.au/2016/02/'>February (2)</option>
<option value='http://blog.dscpl.com.au/2016/01/'>January (3)</option>
<option value='http://blog.dscpl.com.au/2015/12/'>December (6)</option>
<option value='http://blog.dscpl.com.au/2015/10/'>October (1)</option>
<option value='http://blog.dscpl.com.au/2015/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2015/07/'>July (2)</option>
<option value='http://blog.dscpl.com.au/2015/06/'>June (5)</option>
<option value='http://blog.dscpl.com.au/2015/05/'>May (7)</option>
<option value='http://blog.dscpl.com.au/2015/04/'>April (4)</option>
<option value='http://blog.dscpl.com.au/2015/03/'>March (4)</option>
<option value='http://blog.dscpl.com.au/2015/01/'>January (2)</option>
<option value='http://blog.dscpl.com.au/2014/12/'>December (4)</option>
<option value='http://blog.dscpl.com.au/2014/11/'>November (1)</option>
<option value='http://blog.dscpl.com.au/2014/09/'>September (7)</option>
<option value='http://blog.dscpl.com.au/2014/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2014/05/'>May (1)</option>
<option value='http://blog.dscpl.com.au/2014/04/'>April (1)</option>
<option value='http://blog.dscpl.com.au/2014/02/'>February (4)</option>
<option value='http://blog.dscpl.com.au/2014/01/'>January (8)</option>
<option value='http://blog.dscpl.com.au/2013/12/'>December (1)</option>
<option value='http://blog.dscpl.com.au/2012/12/'>December (1)</option>
<option value='http://blog.dscpl.com.au/2012/10/'>October (4)</option>
<option value='http://blog.dscpl.com.au/2012/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2011/11/'>November (1)</option>
<option value='http://blog.dscpl.com.au/2011/10/'>October (1)</option>
<option value='http://blog.dscpl.com.au/2011/09/'>September (1)</option>
<option value='http://blog.dscpl.com.au/2011/03/'>March (1)</option>
<option value='http://blog.dscpl.com.au/2011/01/'>January (5)</option>
<option value='http://blog.dscpl.com.au/2010/12/'>December (2)</option>
<option value='http://blog.dscpl.com.au/2010/10/'>October (1)</option>
<option value='http://blog.dscpl.com.au/2010/08/'>August (2)</option>
<option value='http://blog.dscpl.com.au/2010/06/'>June (2)</option>
<option value='http://blog.dscpl.com.au/2010/05/'>May (2)</option>
<option value='http://blog.dscpl.com.au/2010/04/'>April (1)</option>
<option value='http://blog.dscpl.com.au/2010/03/'>March (3)</option>
<option value='http://blog.dscpl.com.au/2009/11/'>November (4)</option>
<option value='http://blog.dscpl.com.au/2009/10/'>October (3)</option>
<option value='http://blog.dscpl.com.au/2009/09/'>September (1)</option>
<option value='http://blog.dscpl.com.au/2009/08/'>August (3)</option>
<option value='http://blog.dscpl.com.au/2009/05/'>May (2)</option>
<option value='http://blog.dscpl.com.au/2009/04/'>April (5)</option>
<option value='http://blog.dscpl.com.au/2009/03/'>March (5)</option>
<option value='http://blog.dscpl.com.au/2009/02/'>February (1)</option>
<option value='http://blog.dscpl.com.au/2008/12/'>December (2)</option>
<option value='http://blog.dscpl.com.au/2008/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2008/03/'>March (1)</option>
<option value='http://blog.dscpl.com.au/2007/11/'>November (2)</option>
<option value='http://blog.dscpl.com.au/2007/10/'>October (3)</option>
<option value='http://blog.dscpl.com.au/2007/09/'>September (3)</option>
<option value='http://blog.dscpl.com.au/2007/08/'>August (1)</option>
<option value='http://blog.dscpl.com.au/2007/07/'>July (2)</option>
<option value='http://blog.dscpl.com.au/2007/03/'>March (2)</option>
</select>
</div>
</div>
<div class='clear'></div>
</div>
</div><div class='widget Label' data-version='1' id='Label1'>
<h2>Labels</h2>
<div class='widget-content list-label-widget-content'>
<ul>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/python'>python</a>
<span dir='ltr'>(111)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/mod_wsgi'>mod_wsgi</a>
<span dir='ltr'>(86)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/wsgi'>wsgi</a>
<span dir='ltr'>(58)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/apache'>apache</a>
<span dir='ltr'>(35)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/docker'>docker</a>
<span dir='ltr'>(34)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/openshift'>openshift</a>
<span dir='ltr'>(26)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/decorators'>decorators</a>
<span dir='ltr'>(15)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/django'>django</a>
<span dir='ltr'>(13)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/kubernetes'>kubernetes</a>
<span dir='ltr'>(12)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/mod_python'>mod_python</a>
<span dir='ltr'>(9)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/red%20hat'>red hat</a>
<span dir='ltr'>(9)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/ipython'>ipython</a>
<span dir='ltr'>(7)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/jupyterhub'>jupyterhub</a>
<span dir='ltr'>(7)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/new%20relic'>new relic</a>
<span dir='ltr'>(6)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/wrapt'>wrapt</a>
<span dir='ltr'>(6)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/pycon'>pycon</a>
<span dir='ltr'>(5)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/s2i'>s2i</a>
<span dir='ltr'>(4)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/gunicorn'>gunicorn</a>
<span dir='ltr'>(3)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/uWSGI'>uWSGI</a>
<span dir='ltr'>(3)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/datadog'>datadog</a>
<span dir='ltr'>(2)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/nginx'>nginx</a>
<span dir='ltr'>(2)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/statsd'>statsd</a>
<span dir='ltr'>(2)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/web2py'>web2py</a>
<span dir='ltr'>(2)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/async'>async</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/dyndns53'>dyndns53</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/fastcgi'>fastcgi</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/heroku'>heroku</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/jupyter'>jupyter</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/lektor'>lektor</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/php'>php</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/shiv'>shiv</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/testing'>testing</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/tornado'>tornado</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/warpdrive'>warpdrive</a>
<span dir='ltr'>(1)</span>
</li>
<li>
<a dir='ltr' href='http://blog.dscpl.com.au/search/label/zipapp'>zipapp</a>
<span dir='ltr'>(1)</span>
</li>
</ul>
<div class='clear'></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style='clear: both'></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class='main-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
<footer>
<div class='footer-outer'>
<div class='footer-cap-top cap-top'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
<div class='fauxborder-left footer-fauxborder-left'>
<div class='fauxborder-right footer-fauxborder-right'></div>
<div class='region-inner footer-inner'>
<div class='foot section' id='footer-1'><div class='widget AdSense' data-version='1' id='AdSense1'>
<div class='widget-content'>
<script type="text/javascript"><!--
google_ad_client="pub-6433235630058377";
google_ad_host="pub-1556223355139109";
google_ad_width=120;
google_ad_height=600;
google_ad_format="120x600_as";
google_ad_type="text";
google_ad_host_channel="0001";
google_color_border="FFFFFF";
google_color_bg="FFFFFF";
google_color_link="999999";
google_color_url="5588AA";
google_color_text="666666";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<div class='clear'></div>
</div>
</div></div>
<table border='0' cellpadding='0' cellspacing='0' class='section-columns columns-2'>
<tbody>
<tr>
<td class='first columns-cell'>
<div class='foot no-items section' id='footer-2-1'></div>
</td>
<td class='columns-cell'>
<div class='foot no-items section' id='footer-2-2'></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class='foot section' id='footer-3' name='Footer'><div class='widget Attribution' data-version='1' id='Attribution1'>
<div class='widget-content' style='text-align: center;'>
Simple theme. Powered by <a href='https://www.blogger.com' target='_blank'>Blogger</a>.
</div>
<div class='clear'></div>
</div></div>
</div>
</div>
<div class='footer-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class='content-cap-bottom cap-bottom'>
<div class='cap-left'></div>
<div class='cap-right'></div>
</div>
</div>
</div>
<script type='text/javascript'>
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>

<script type="text/javascript" src="https://www.blogger.com/static/v1/widgets/552934507-widgets.js"></script>
<script type='text/javascript'>
window['__wavt'] = 'AOuZoY7NTlq4OSxS8C02v3T9_KWw64zkfA:1757388604842';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d2363643920942057324','//blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html','2363643920942057324');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '2363643920942057324', 'title': 'Graham Dumpleton', 'url': 'http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html', 'canonicalUrl': 'http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html', 'homepageUrl': 'http://blog.dscpl.com.au/', 'searchUrl': 'http://blog.dscpl.com.au/search', 'canonicalHomepageUrl': 'http://blog.dscpl.com.au/', 'blogspotFaviconUrl': 'http://blog.dscpl.com.au/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': true, 'httpsEnabled': false, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'en', 'localeUnderscoreDelimited': 'en', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'isDynamicViewsAvailable': true, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Graham Dumpleton - Atom\x22 href\x3d\x22http://blog.dscpl.com.au/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Graham Dumpleton - RSS\x22 href\x3d\x22http://blog.dscpl.com.au/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Graham Dumpleton - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/2363643920942057324/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Graham Dumpleton - Atom\x22 href\x3d\x22http://blog.dscpl.com.au/feeds/6212721734777656933/comments/default\x22 /\x3e\n', 'meTag': '', 'adsenseClientId': 'ca-pub-6433235630058377', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': true, 'adsenseAutoAds': false, 'boqCommentIframeForm': true, 'loginRedirectParam': '', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/b4594f574ba3c273', 'plusOneApiSrc': 'https://apis.google.com/js/platform.js', 'disableGComments': true, 'interstitialAccepted': false, 'sharing': {'platforms': [{'name': 'Get link', 'key': 'link', 'shareMessage': 'Get link', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Share to Facebook', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'X', 'key': 'twitter', 'shareMessage': 'Share to X', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Share to Pinterest', 'target': 'pinterest'}, {'name': 'Email', 'key': 'email', 'shareMessage': 'Email', 'target': 'email'}], 'disableGooglePlus': true, 'googlePlusShareButtonWidth': 0, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27en\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': 'Read more', 'pageType': 'item', 'postId': '6212721734777656933', 'pageName': 'Random user IDs when running Docker containers.', 'pageTitle': 'Graham Dumpleton: Random user IDs when running Docker containers.'}}, {'name': 'features', 'data': {}}, {'name': 'messages', 'data': {'edit': 'Edit', 'linkCopiedToClipboard': 'Link copied to clipboard!', 'ok': 'Ok', 'postLink': 'Post Link'}}, {'name': 'template', 'data': {'name': 'Simple', 'localizedName': 'Simple', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false, 'variant': 'pale', 'variantId': 'pale'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Random user IDs when running Docker containers.', 'description': 'At this point in our exploration of\xa0 getting IPython to work on OpenShift  we have deduced that we cannot, and should not, have our Docker c...', 'url': 'http://blog.dscpl.com.au/2015/12/random-user-ids-when-running-docker.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 6212721734777656933}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/3842676126-lbx.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/828616780-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_ProfileView', new _WidgetInfo('Profile1', 'sidebar-right-1', document.getElementById('Profile1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_PageListView', new _WidgetInfo('PageList1', 'sidebar-right-1', document.getElementById('PageList1'), {'title': 'Quick Links', 'links': [{'isCurrentPage': false, 'href': 'http://blog.dscpl.com.au/p/decorators-and-monkey-patching.html', 'id': '3350721465154129789', 'title': 'Decorators and monkey patching.'}, {'isCurrentPage': false, 'href': 'http://blog.dscpl.com.au/p/using-python-with-docker.html', 'id': '5591286857776935907', 'title': 'Using Python with Docker.'}], 'mobile': false, 'showPlaceholder': true, 'hasCurrentPage': false}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': 'Loading\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_LabelView', new _WidgetInfo('Label1', 'sidebar-right-1', document.getElementById('Label1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense1', 'footer-1', document.getElementById('AdSense1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>
</body>
</html>